<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Megacrypter by tonikelope</title>
  </head>

  <body>
  <div id="fb-root"></div>
<script>(function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) return;
js = d.createElement(s); js.id = id;
js.src = "//connect.facebook.net/es_ES/all.js#xfbml=1";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div id="lb-bg"></div>
    <header>
      <div class="inner">
        <img src="/megacrypter/images/lock.png?raw=true" alt="Alt text" title="MC logo"><img src="/megacrypter/images/logo.png?raw=true" alt="Alt text" title="MC logo">
        <h2>Anonymous crypted url forwarding web application for MEGA links.</h2>
        <a href="https://github.com/tonikelope/megacrypter" class="button"><small>View project on</small> GitHub</a>
        <div id="social_buttons"><div class="fb-like" data-href="//www.facebook.com/megacrypter" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
        <a href="//www.facebook.com/megacrypter" target="_blank"><img id="button_facebook" src="/megacrypter/images/facebook.png" alt="facebook" /></a><a href="https://twitter.com/megacrypter" target="_blank"><img id="button_twitter" src="/megacrypter/images/twitter.png" alt="twitter" /></a></div>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
<h1>
<a id="megacrypter" class="anchor" href="#megacrypter" aria-hidden="true"><span class="octicon octicon-link"></span></a>megacrypter</h1>

<h2>What do you need?</h2>

<p>1) Apache (mod_rewrite + allowoverride)</p>

<p>2) PHP 5.4 (cURL + mcrypt + memcache)</p>

<p>3) MySQL (optional for blacklist).</p>

<p>4) CloudFlare (optional but highly recommended)</p>

<h2>Installation instructions:</h2>

<p>Step 1: upload megacrypter to your server.</p>

<p>Step 2: prepare virtual host (set document root point to megacrypter public dir)</p>

<p>Step 3: install composer dependencies -&gt; <code>$ php composer.phar install</code></p>

<p>Step 4: remove ALL /config .sample extension and edit miscellaneous.php and any other file you need.</p>

<p>Step 5 (optional): ask  developers of your favourite download manager to recognize your new megacrypter links.</p>

<p>You're alone from here. Good luck!</p>

<h2>API DOC</h2>
Megacrypter API uses <a href="//en.wikipedia.org/wiki/JSON" target="_blank">JSON</a> with <a href="//en.wikipedia.org/wiki/POST_%28HTTP%29" target="_blank">HTTP POST requests</a>

<pre>API URL -> https://megacrypter.com/api
(Content-Type: application/json)

Crypt-request (for protecting a mega link list):
{"m": "crypt", 
"links": ["MEGA_LINK_1", "MEGA_LINK_2" ... "MEGA_LINK_N"],
*"expire": 0-6
*"tiny_url": true OR false,
*"app_finfo": true OR false,
*"hide_name": true OR false,
*"pass": "PASS",
*"referer": "DOMAIN_NAME",
*"extra_info": "EXTRA_INFO",
*"email": "EMAIL"}

*Optional params: 
1) Expiration values: 0 -> never (default), 
1 -> 10 minutes, 
2 -> 1 hour... 
2) Tiny url option is false by default. 
3) Append file info option is false by default.
4) Hide name option is false by default. 
5) Passwords are case-sensitive. 
6) Referer is not required to include 'http://'. It's limited to 64 chars 
7) Extra-info is limited to 64 chars. Note: link list is limited to 250

Crypt-response:
{"links": ["MC_LINK_1", "MC_LINK_2" ... "MC_LINK_N"]}

Petición info (para obtener diversa información sobre un enlace): 
{"m": "info", "link": "MC_LINK"} 

Respuesta info: 
{"name": "FILE_NAME" OR "CRYPTED_FILE_NAME", 
"size": FILE_SIZE,
"key": "FILE_KEY" OR "CRYPTED_FILE_KEY", 
"extra": "EXTRA_INFO" OR "CRYPTED_EXTRA_INFO", 
"expire": false OR EXPIRE_TIMESTAMP, 
"pass": false OR "ITER_LOG2#KEY_CHECK_HASH#SALT"}

En relación a los enlaces protegidos con contraseña: File name, file key, and extra-info will be returned crypted using AES CBC (PKCS7) with 256 bits key derivated from pass and zero-iv. Moreover, SHA-256 key hash will be returned to allow you checking it. Sigue este algoritmo para descifrar los campos cifrados: REPEAT password := read_password() info_key := hmac := hmac_sha256(password, base64_dec(SALT)) FOR i=2 : 1 : pow(2, ITER_LOG2) hmac := hmac_sha256(password, hmac) info_key := info_key XOR hmac END UNTIL sha256(info_key) = base64_dec(KEY_CHECK_HASH) file_name := aes_cbc_dec(base64_dec(CRYPTED_FILE_NAME), info_key, IV(0)) file_key := aes_cbc_dec(base64_dec(CRYPTED_FILE_KEY), info_key, IV(0)) extra_info := aes_cbc_dec(base64_dec(CRYPTED_EXTRA_INFO), info_key, IV(0))
Note: iteration count is -> pow(2, 14) = 16384
  
Petición Dl (para obtener una URL temporal al archivo (cifrado)): {"m": "dl", "link": "MC_LINK", *"ssl": true OR false}
*Parámetros opcionales: 1) Default is false (better performance in slow machines)
Respuesta Dl: {"url": "MEGA_TEMP_URL"}

Respuesta de error: {"error": ERROR_CODE}
Códigos de error: MC_EMETHOD(1) MC_EREQ(2) MC_INTERNAL_ERROR(21) MC_LINK_ERROR(22) MC_BLACKLISTED_LINK(23) MC_EXPIRED_LINK(24) MEGA_EINTERNAL(-1) MEGA_EARGS(-2) MEGA_EAGAIN(-3) MEGA_ERATELIMIT(-4) MEGA_EFAILED(-5) MEGA_ETOOMANY(-6) MEGA_ERANGE(-7) MEGA_EEXPIRED(-8) MEGA_ENOENT(-9) MEGA_ECIRCULAR(-10) MEGA_EACCESS(-11) MEGA_EEXIST(-12) MEGA_EINCOMPLETE(-13) MEGA_EKEY(-14) MEGA_ESID(-15) MEGA_EBLOCKED(-16) MEGA_EOVERQUOTA(-17) MEGA_ETEMPUNAVAIL(-18) MEGA_ETOOMANYCONNECTIONS(-19) MEGA_EWRITE(-20) MEGA_EREAD(-21) MEGA_EAPPKEY(-22) MEGA_EDLURL(-101) 

</pre>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/tonikelope/megacrypter/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/tonikelope/megacrypter/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/tonikelope/megacrypter"></a> is maintained by <a href="https://github.com/tonikelope">tonikelope</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
